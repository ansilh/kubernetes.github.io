<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.121.1"><meta name=generator content="Relearn 5.23.2+tip"><meta name=robots content="noindex, nofollow, noarchive, noimageindex"><meta name=description content="Kubernetes pocket gude and more"><meta name=author content="Ansil H"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://kubernetes.ansilh.com/images/hero.png"><meta name=twitter:title content="NodePort :: Hugo Relearn Theme"><meta name=twitter:description content="Kubernetes pocket gude and more"><meta property="og:title" content="NodePort :: Hugo Relearn Theme"><meta property="og:description" content="Kubernetes pocket gude and more"><meta property="og:type" content="website"><meta property="og:url" content="https://kubernetes.ansilh.com/07-services/02-nodeport/index.html"><meta property="og:image" content="https://kubernetes.ansilh.com/images/hero.png"><meta property="og:site_name" content="Hugo Relearn Theme"><title>NodePort :: Hugo Relearn Theme</title>
<link href=../../images/logo.svg?1704650113 rel=icon type=image/svg+xml><link href=../../css/fontawesome-all.min.css?1704650116 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../css/fontawesome-all.min.css?1704650116 rel=stylesheet></noscript><link href=../../css/nucleus.css?1704650116 rel=stylesheet><link href=../../css/auto-complete.css?1704650116 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../css/auto-complete.css?1704650116 rel=stylesheet></noscript><link href=../../css/perfect-scrollbar.min.css?1704650116 rel=stylesheet><link href=../../css/fonts.css?1704650116 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../css/fonts.css?1704650116 rel=stylesheet></noscript><link href=../../css/theme.css?1704650116 rel=stylesheet><link href=../../css/theme-neon.css?1704650116 rel=stylesheet id=R-variant-style><link href=../../css/chroma-neon.css?1704650116 rel=stylesheet id=R-variant-chroma-style><link href=../../css/variant.css?1704650116 rel=stylesheet><link href=../../css/print.css?1704650116 rel=stylesheet media=print><link href=../../css/format-print.css?1704650116 rel=stylesheet><link href=../../css/ie.css?1704650116 rel=stylesheet><script src=../../js/url.js?1704650116></script><script src=../../js/variant.js?1704650116></script><script>window.index_js_url="../../index.search.js";var root_url="../../",baseUri=root_url.replace(/\/$/,"");window.relearn=window.relearn||{},window.relearn.baseUriFull="https://kubernetes.ansilh.com/",window.relearn.themeVariantModifier="",window.variants&&variants.init(["neon"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><style>#R-body img.bg-white{background-color:#fff}</style></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=../../07-services/02-nodeport/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../07-services/index.html><span itemprop=name>Services</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>NodePort</span><meta itemprop=position content="2"></li></ol><div class="topbar-area topbar-area-end" data-area=end></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=nodeport>NodePort</h1><p>NodePort Exposes the service on each Node’s IP at a static port (the NodePort). A ClusterIP service, to which the NodePort service will route, is automatically created. You’ll be able to contact the NodePort service, from outside the cluster, by requesting <nodeip>:<nodeport>.</p><h4 id=how-nodeport-works>How <code>nodePort</code> works</h4><p><a href=#R-image-43022373fe95256f8783b7f30968563d class=lightbox-link><img src="../../07-services/02-nodeport/pod-service-nodeport.png?classes=shadow" alt=NodePort class="figure-image bg-white border lightbox shadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-43022373fe95256f8783b7f30968563d><img src="../../07-services/02-nodeport/pod-service-nodeport.png?classes=shadow" alt=NodePort class="lightbox-image bg-white border lightbox shadow" loading=lazy></a></p><p>kube-proxy watches the Kubernetes master for the addition and removal of Service and Endpoints objects.</p><p>(We will discuss about <code>Endpoints</code> later in this session.)</p><p>For each <code>Service</code>, it opens a port (randomly chosen) on the local node. Any connections to this “proxy port” will be proxied to one of the Service’s backend Pods (as reported in Endpoints). Lastly, it installs iptables rules which capture traffic to the Service’s <code>clusterIP</code> (which is virtual) and Port and redirects that traffic to the proxy port which proxies the backend Pod.</p><h4 id=nodeport-workflow><code>nodePort</code> workflow.</h4><ol><li><p><code>nodePort</code> -> <code>30391</code></p></li><li><p><code>port</code> -> <code>80</code></p></li><li><p><code>targetPort</code> -> <code>9090</code></p></li></ol><footer class=footline></footer></article></div></main></div><script src=../../js/clipboard.min.js?1704650116 defer></script><script src=../../js/perfect-scrollbar.min.js?1704650116 defer></script><script src=../../js/theme.js?1704650116 defer></script></body></html>