<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.121.1"><meta name=generator content="Relearn 5.23.2+tip"><meta name=robots content="noindex, nofollow, noarchive, noimageindex"><meta name=description content="Kubernetes pocket gude and more"><meta name=author content="Ansil H"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://kubernetes.ansilh.com/images/hero.png"><meta name=twitter:title content="Installation :: Hugo Relearn Theme"><meta name=twitter:description content="Kubernetes pocket gude and more"><meta property="og:title" content="Installation :: Hugo Relearn Theme"><meta property="og:description" content="Kubernetes pocket gude and more"><meta property="og:type" content="website"><meta property="og:url" content="https://kubernetes.ansilh.com/02-installation/index.html"><meta property="og:image" content="https://kubernetes.ansilh.com/images/hero.png"><meta property="og:site_name" content="Hugo Relearn Theme"><title>Installation :: Hugo Relearn Theme</title>
<link href=../images/logo.svg?1704652404 rel=icon type=image/svg+xml><link href=../css/fontawesome-all.min.css?1704652408 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../css/fontawesome-all.min.css?1704652408 rel=stylesheet></noscript><link href=../css/nucleus.css?1704652408 rel=stylesheet><link href=../css/auto-complete.css?1704652408 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../css/auto-complete.css?1704652408 rel=stylesheet></noscript><link href=../css/perfect-scrollbar.min.css?1704652408 rel=stylesheet><link href=../css/fonts.css?1704652408 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../css/fonts.css?1704652408 rel=stylesheet></noscript><link href=../css/theme.css?1704652408 rel=stylesheet><link href=../css/theme-neon.css?1704652408 rel=stylesheet id=R-variant-style><link href=../css/chroma-neon.css?1704652408 rel=stylesheet id=R-variant-chroma-style><link href=../css/variant.css?1704652408 rel=stylesheet><link href=../css/print.css?1704652408 rel=stylesheet media=print><link href=../css/format-print.css?1704652408 rel=stylesheet><link href=../css/ie.css?1704652408 rel=stylesheet><script src=../js/url.js?1704652408></script><script src=../js/variant.js?1704652408></script><script>window.index_js_url="../index.search.js";var root_url="../",baseUri=root_url.replace(/\/$/,"");window.relearn=window.relearn||{},window.relearn.baseUriFull="https://kubernetes.ansilh.com/",window.relearn.themeVariantModifier="",window.variants&&variants.init(["neon"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><style>#R-body img.bg-white{background-color:#fff}</style></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=../02-installation/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Installation</span><meta itemprop=position content="1"></li></ol><div class="topbar-area topbar-area-end" data-area=end></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable chapter narrow" tabindex=-1><div class=flex-block-wrapper><article class=chapter><header class=headline></header><div class=article-subheading>Chapter 2</div><h1 id=installation>Installation</h1><ul><li>In this chapter we will install VirtualBox and setup networking.</li><li>We will learn how to install and configure Docker.</li><li>Also we will install a two node kubernetes cluster using kubeadm.</li></ul><footer class=footline></footer></article><section><h1 class=a11y-only>Subsections of Installation</h1><article class=default><header class=headline></header><h1 id=install-virtualbox>Install VirtualBox</h1><ul><li><p>Download the latest VBox installer and VBox Extension Pack</p><ul><li><a href=https://download.virtualbox.org/virtualbox/LATEST.TXT target=_blank>https://download.virtualbox.org/virtualbox/LATEST.TXT</a></li><li><a href=https://download.virtualbox.org/virtualbox/ target=_blank>https://download.virtualbox.org/virtualbox/</a>&lt;LATEST>/</li></ul></li><li><p>Installation procedure is available in below link</p><ul><li><a href=https://www.wikihow.com/Install-VirtualBox target=_blank>https://www.wikihow.com/Install-VirtualBox</a></li></ul></li></ul><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=virtualbox-network-configuration>VirtualBox Network Configuration</h1><ul><li>Create HostOnly network ( Default will be 192.168.56.0/24)<ul><li>Open Virtual Box</li><li>Got to menu and navigate to File ->Host Network Manager</li><li>Then click &ldquo;Create&rdquo;
This will create a Host-Only Network.</li></ul></li></ul><p>DHCP should be disabled on this network.</p><p>Internet access is needed on all VMs (for downloading needed binaries).</p><p>Make sure you can see the NAT network.(If not , create one).</p><table><thead><tr><th>VBox Host Networking</th><th></th></tr></thead><tbody><tr><td>HostOnly</td><td>192.168.56.0/24</td></tr><tr><td>NAT</td><td>VBOX Defined</td></tr></tbody></table><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=ubuntu-1604-installation>Ubuntu 16.04 Installation</h1><ul><li>Download Ubuntu 16.04 ISO
<a href=http://releases.ubuntu.com/16.04/ubuntu-16.04.5-server-amd64.iso target=_blank>http://releases.ubuntu.com/16.04/ubuntu-16.04.5-server-amd64.iso</a></li></ul><p>Create a template VM which will be used to clone all needed VMs</p><ul><li>You need at least 50GB free space to host all VMs</li><li>All VMs will be placed in a directory called (Don&rsquo;t create these manually now!)
<code>DRIVE_NAME:/VMs/</code> (Replace <code>DRIVE_NAME</code> with a mount point or Driver name)</li><li>Install Ubuntu 16.04 with latest patches</li><li>VM configuration<ul><li>VM Name : <code>k8s-master-01</code></li><li>Memory : 2 GB</li><li>CPU : 2</li><li>Disk : 100GB</li><li>HostOnly interface : 1 (ref. step 1).</li><li>NAT network interface : 1</li></ul></li></ul><div class="box notices cstyle warning"><div class=box-label><i class="fa-fw fas fa-exclamation-triangle"></i> Warning</div><div class=box-content><p>By default , NAT will be the first in network adapter order , change it.
NAT interface should be the second interface and
Host-Only should be the first one</p></div></div><ul><li><p>Install Ubuntu on this VM and go ahead with all default options</p></li><li><p>When asked, provide user name <code>k8s</code> and set password</p></li><li><p>Make sure to select the NAT interface as primary during installation.</p></li><li><p>Select below in <code>Software Selection</code> screen</p></li><li><p>Manual Software Selection</p></li><li><p>OpenSSH Server</p></li><li><p>After restart , make sure NAT interface is up</p></li><li><p>Login to the template VM with user <code>k8s</code> and execute below commands to install latest patches.</p></li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ sudo apt-get update
</span></span><span class=line><span class=cl>$ sudo apt-get upgrade</span></span></code></pre></div><ul><li>Poweroff template VM</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ sudo poweroff</span></span></code></pre></div><h4 id=clone-vm>Clone VM</h4><p>You may use VirtualBox GUI to create a full clone - Preferred
You can use below commands to clone a VM - Execute it at your own risk ;)</p><ul><li>Open CMD and execute below commands to create all needed VMs.
You can replace the value of <code>DRIVER_NAME</code> with a drive which is having enough free space (~50GB)</li><li>Windows</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl> <span class=nb>set</span> <span class=nv>DRIVE_NAME</span><span class=o>=</span>D
</span></span><span class=line><span class=cl> <span class=nb>cd</span> C:<span class=se>\P</span>rogram Files<span class=se>\O</span>racle<span class=se>\V</span>irtualBox
</span></span><span class=line><span class=cl> VBoxManage.exe clonevm <span class=s2>&#34;k8s-master-01&#34;</span> --name <span class=s2>&#34;k8s-worker-01&#34;</span> --groups <span class=s2>&#34;/K8S Training&#34;</span> --basefolder <span class=s2>&#34;%DRIVE_NAME%:\VMs&#34;</span> --register</span></span></code></pre></div><ul><li>Mac or Linux (Need to test)</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl> <span class=nv>DRIVE_NAME</span><span class=o>=</span><span class=si>${</span><span class=nv>HOME</span><span class=si>}</span>
</span></span><span class=line><span class=cl> VBoxManage clonevm <span class=s2>&#34;k8s-master-01&#34;</span> --name <span class=s2>&#34;k8s-worker-01&#34;</span> --groups <span class=s2>&#34;/K8S Training&#34;</span> --basefolder <span class=si>${</span><span class=nv>DRIVE_NAME</span><span class=si>}</span>/VMs<span class=s2>&#34; --register</span></span></span></code></pre></div><h5 id=start-vms-one-by-one-and-perform-below>Start VMs one by one and perform below</h5><h5 id=execute-below-steps-on-both-master-and-worker-nodes>Execute below steps on both master and worker nodes</h5><ul><li>Assign IP address and make sure it comes up at boot time.</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ sudo systemctl stop networking
</span></span><span class=line><span class=cl>$ sudo vi /etc/network/interfaces</span></span></code></pre></div><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-properties data-lang=properties><span class=line><span class=cl><span class=na>auto</span> <span class=s>enp0s3 #&lt;-- Make sure to use HostOnly interface (it can also be enp0s8)</span>
</span></span><span class=line><span class=cl><span class=na>iface</span> <span class=s>enp0s3 inet static</span>
</span></span><span class=line><span class=cl>    <span class=na>address</span> <span class=s>192.168.56.X #&lt;--- Replace X with corresponding IP octet</span>
</span></span><span class=line><span class=cl>    <span class=na>netmask</span> <span class=s>255.255.255.0</span></span></span></code></pre></div><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ sudo systemctl restart networking</span></span></code></pre></div><div class="box notices cstyle note"><div class=box-label><i class="fa-fw fas fa-exclamation-circle"></i> Note</div><div class=box-content><p>You may access the VM using the IP via SSH and can complete all remaining steps from that session (for copy paste :) )</p></div></div><ul><li>Change Host name</li></ul><h5 id=execute-below-steps-only-on-worker-node>Execute below steps only on worker node</h5><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ <span class=nv>HOST_NAME</span><span class=o>=</span>&lt;host name&gt; <span class=c1># &lt;--- Replace &lt;host name&gt; with corresponding one</span></span></span></code></pre></div><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ sudo hostnamectl set-hostname <span class=si>${</span><span class=nv>HOST_NAME</span><span class=si>}</span> --static --transient</span></span></code></pre></div><ul><li>Regenrate SSH Keys</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ sudo /bin/rm -v /etc/ssh/ssh_host_*
</span></span><span class=line><span class=cl>$ sudo dpkg-reconfigure openssh-server</span></span></code></pre></div><ul><li>Change iSCSI initiator IQN</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ sudo vi /etc/iscsi/initiatorname.iscsi</span></span></code></pre></div><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nv>InitiatorName</span><span class=o>=</span>iqn.1993-08.org.debian:01:HOST_NAME  <span class=c1>#&lt;--- Append HostName to have unique iscsi iqn</span></span></span></code></pre></div><ul><li>Change Machine UUID</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ sudo rm /etc/machine-id /var/lib/dbus/machine-id
</span></span><span class=line><span class=cl>$ sudo systemd-machine-id-setup</span></span></code></pre></div><h5 id=execute-below-steps-on-both-master-and-worker-nodes-1>Execute below steps on both master and worker nodes</h5><ul><li><p>Remove 127.0.1.1 entry from /etc/hosts</p></li><li><p>Add needed entries in /etc/hosts</p></li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ sudo bash -c  <span class=s2>&#34;cat &lt;&lt;EOF &gt;&gt;/etc/hosts
</span></span></span><span class=line><span class=cl><span class=s2>192.168.56.201 k8s-master-01
</span></span></span><span class=line><span class=cl><span class=s2>192.168.56.202 k8s-worker-01
</span></span></span><span class=line><span class=cl><span class=s2>EOF&#34;</span></span></span></code></pre></div><ul><li>Add public DNS incase the local one is not responding in NAT</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ sudo bash -c  <span class=s2>&#34;cat &lt;&lt;EOF &gt;&gt;/etc/resolvconf/resolv.conf.d/tail
</span></span></span><span class=line><span class=cl><span class=s2>nameserver 8.8.8.8
</span></span></span><span class=line><span class=cl><span class=s2>EOF&#34;</span></span></span></code></pre></div><ul><li>Disable swap by commenting out swap_1 LV</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ sudo vi /etc/fstab</span></span></code></pre></div><div class="wrap-code highlight"><pre tabindex=0><code># /dev/mapper/k8s--master--01--vg-swap_1 none            swap    sw              0       0</code></pre></div><ul><li>Reboot VMs</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ sudo reboot</span></span></code></pre></div><div class="box notices cstyle note"><div class=box-label><i class="fa-fw fas fa-exclamation-circle"></i> Note</div><div class=box-content><p>Do a ping test to make sure both VMs can reach each other.</p></div></div><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=install-docker>Install Docker</h1><p>In this session, we will install and setup docker in a simple and easy way on Ubuntu 16.04.</p><ul><li>Add gpg key to aptitude</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg <span class=p>|</span> sudo apt-key add -</span></span></code></pre></div><ul><li>Add repository</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ sudo add-apt-repository <span class=s2>&#34;deb [arch=amd64] https://download.docker.com/linux/ubuntu </span><span class=k>$(</span>lsb_release -cs<span class=k>)</span><span class=s2> stable&#34;</span></span></span></code></pre></div><ul><li>Refresh repository</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ sudo apt-get update</span></span></code></pre></div><ul><li>Verify whether docker is available in repo or not</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ sudo apt-cache policy docker-ce</span></span></code></pre></div><div class="wrap-code highlight"><pre tabindex=0><code>docker-ce:
  Installed: (none)
  Candidate: 5:18.09.0~3-0~ubuntu-xenial
  Version table:
     5:18.09.0~3-0~ubuntu-xenial 500
...</code></pre></div><ul><li>Install docker</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ sudo apt-get install -y docker-ce</span></span></code></pre></div><ul><li>Make sure docker is running</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ sudo systemctl status docker</span></span></code></pre></div><div class="wrap-code highlight"><pre tabindex=0><code>● docker.service - Docker Application Container Engine
   Loaded: loaded (/lib/systemd/system/docker.service; enabled; vendor preset: enabled)
   Active: active (running) since Wed 2018-12-26 17:14:59 UTC; 4min 27s ago
     Docs: https://docs.docker.com
 Main PID: 1191 (dockerd)
    Tasks: 10
   Memory: 76.4M
      CPU: 625ms
   CGroup: /system.slice/docker.service
           └─1191 /usr/bin/dockerd -H unix://
...</code></pre></div><ul><li>Add user to docker group so that this user can execute docker commands.</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ sudo usermod -aG docker <span class=si>${</span><span class=nv>USER</span><span class=si>}</span></span></span></code></pre></div><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Info</div><div class=box-content><p>Logout the session and login again to refresh the group membership.</p></div></div><ul><li>Verify docker by executing info command.</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ docker info <span class=p>|</span>grep <span class=s1>&#39;Server Version&#39;</span></span></span></code></pre></div><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=go>Server Version: 18.09.0
</span></span></span></code></pre></div><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=setup-golang>Setup Golang</h1><ul><li>Download Golang tarball</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ curl -O https://dl.google.com/go/go1.11.4.linux-amd64.tar.gz</span></span></code></pre></div><ul><li>Extract the contents</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ tar -xvf go1.11.4.linux-amd64.tar.gz</span></span></code></pre></div><ul><li>Move the contents to /usr/local directory</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ sudo mv go /usr/local/</span></span></code></pre></div><ul><li>Add the environmental variable GOPATH to .profile</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat <span class=s>&lt;&lt;EOF &gt;&gt;~/.profile
</span></span></span><span class=line><span class=cl><span class=s>export GOPATH=\$HOME/work
</span></span></span><span class=line><span class=cl><span class=s>export PATH=\$PATH:/usr/local/go/bin:\$GOPATH/bin
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></div><ul><li>Create the work directory</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ mkdir <span class=nv>$HOME</span>/work</span></span></code></pre></div><ul><li>Load the profile</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ <span class=nb>source</span> ~/.profile</span></span></code></pre></div><ul><li>Verify Golang setup</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ go version</span></span></code></pre></div><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=go>go version go1.11.4 linux/amd64
</span></span></span></code></pre></div><ul><li>Create a directory tree to map to a github repository</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ mkdir -p <span class=nv>$GOPATH</span>/src/github.com/ansilh/golang-demo</span></span></code></pre></div><ul><li>Create a hello world golang program</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ vi <span class=nv>$GOPATH</span>/src/github.com/ansilh/golang-demo/main.go</span></span></code></pre></div><ul><li>Paste below code</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>(){</span>  
</span></span><span class=line><span class=cl> <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Hello World.!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><ul><li>Build and install the program</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=go>go install github.com/ansilh/golang-demo
</span></span></span></code></pre></div><ul><li>Execute the program to see the output</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ golang-demo</span></span></code></pre></div><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=go>Hello World.!
</span></span></span></code></pre></div><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=build-a-demo-webapp>Build a Demo WebApp</h1><ul><li>Create a directory for the demo app.</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ mkdir -p <span class=si>${</span><span class=nv>GOPATH</span><span class=si>}</span>/src/github.com/ansilh/demo-webapp</span></span></code></pre></div><ul><li>Create demo-webapp.go file</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ vi <span class=si>${</span><span class=nv>GOPATH</span><span class=si>}</span>/src/github.com/ansilh/demo-webapp/demo-webapp.go</span></span></code></pre></div><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;net/http&#34;</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;log&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>demoDefault</span><span class=p>(</span><span class=nx>w</span> <span class=nx>http</span><span class=p>.</span><span class=nx>ResponseWriter</span><span class=p>,</span> <span class=nx>r</span> <span class=o>*</span><span class=nx>http</span><span class=p>.</span><span class=nx>Request</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=nx>fmt</span><span class=p>.</span><span class=nf>Fprintf</span><span class=p>(</span><span class=nx>w</span><span class=p>,</span> <span class=s>&#34;404 - Page not found - This is a dummy default backend&#34;</span><span class=p>)</span> <span class=c1>// send data to client side
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>http</span><span class=p>.</span><span class=nf>HandleFunc</span><span class=p>(</span><span class=s>&#34;/&#34;</span><span class=p>,</span> <span class=nx>demoDefault</span><span class=p>)</span> <span class=c1>// set router
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>err</span> <span class=o>:=</span> <span class=nx>http</span><span class=p>.</span><span class=nf>ListenAndServe</span><span class=p>(</span><span class=s>&#34;:9090&#34;</span><span class=p>,</span> <span class=kc>nil</span><span class=p>)</span> <span class=c1>// set listen port
</span></span></span><span class=line><span class=cl><span class=c1></span>   <span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>log</span><span class=p>.</span><span class=nf>Fatal</span><span class=p>(</span><span class=s>&#34;ListenAndServe: &#34;</span><span class=p>,</span> <span class=nx>err</span><span class=p>)</span>
</span></span><span class=line><span class=cl>   <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><ul><li>Build a static binary</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ <span class=nb>cd</span> <span class=nv>$GOPATH</span>/src/github.com/ansilh/demo-webapp
</span></span><span class=line><span class=cl>$ <span class=nv>CGO_ENABLED</span><span class=o>=</span><span class=m>0</span> <span class=nv>GOOS</span><span class=o>=</span>linux <span class=nv>GOARCH</span><span class=o>=</span>amd64 go build -a -installsuffix cgo -ldflags<span class=o>=</span><span class=s2>&#34;-w -s&#34;</span> -o <span class=nv>$GOPATH</span>/bin/demo-webapp</span></span></code></pre></div><ul><li>Execute the program</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ demo-webapp</span></span></code></pre></div><p>Open the browser and check if you can see the response using IP:9090
If you see the output “404 – Page not found – This is a dummy default backend” indicates that the program is working</p><p>Press Ctrl+c to terminate the program</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=build-a-docker-image>Build a Docker image</h1><p>Create a <a href=https://hub.docker.com/ target=_blank>Docker Hub account</a></p><ul><li>Let’s create a directory to store the Dockerfile</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ mkdir ~/demo-webapp</span></span></code></pre></div><ul><li>Copy the pre-built program</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ cp <span class=nv>$GOPATH</span>/bin/demo-webapp ~/demo-webapp/</span></span></code></pre></div><ul><li>Create a Dockerfile.</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ <span class=nb>cd</span> ~/demo-webapp/
</span></span><span class=line><span class=cl>$ vi Dockerfile</span></span></code></pre></div><div class="wrap-code highlight"><pre tabindex=0><code>FROM scratch
LABEL maintainer=&#34;Ansil H&#34;
LABEL email=&#34;ansilh@gmail.com&#34;
COPY demo-webapp /
CMD [&#34;/demo-webapp&#34;]</code></pre></div><ul><li>Build the docker image</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ sudo docker build -t &lt;docker login name&gt;/demo-webapp .
</span></span><span class=line><span class=cl>Eg:-
</span></span><span class=line><span class=cl>$ sudo docker build -t ansilh/demo-webapp .</span></span></code></pre></div><ul><li>Login to Docker Hub using your credentials</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ docker login</span></span></code></pre></div><ul><li>Push image to Docker hub</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ docker push &lt;docker login name&gt;/demo-webapp
</span></span><span class=line><span class=cl>Eg:-
</span></span><span class=line><span class=cl>$ docker push ansilh/demo-webapp</span></span></code></pre></div><p>Congratulations ! . Now the image you built is available in Docker Hub and we can use this image to run containers in upcoming sessions</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=docker---container-management>Docker - Container management</h1><h4 id=start-a-container>Start a Container</h4><ul><li>Here we map port 80 of host to port 9090 of cotainer</li><li>Verify application from browser</li><li>Press Ctrl+c to exit container</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ docker run -p 80:9090 ansilh/demo-webapp</span></span></code></pre></div><ul><li>Start a Container in detach mode</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ docker run -d -p 80:9090 ansilh/demo-webapp</span></span></code></pre></div><ul><li>List Container</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ docker ps
</span></span><span class=line><span class=cl>CONTAINER ID        IMAGE                COMMAND             CREATED             STATUS              PORTS                  NAMES
</span></span><span class=line><span class=cl>4c8364e0d031        ansilh/demo-webapp   <span class=s2>&#34;/demo-webapp&#34;</span>      <span class=m>11</span> seconds ago      Up <span class=m>10</span> seconds       0.0.0.0:80-&gt;9090/tcp   zen_gauss</span></span></code></pre></div><ul><li>List all containers including stopped containers</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ docker ps -a
</span></span><span class=line><span class=cl>CONTAINER ID        IMAGE                COMMAND             CREATED             STATUS                     PORTS                  NAMES
</span></span><span class=line><span class=cl>4c8364e0d031        ansilh/demo-webapp   <span class=s2>&#34;/demo-webapp&#34;</span>      <span class=m>2</span> minutes ago       Up <span class=m>2</span> minutes               0.0.0.0:80-&gt;9090/tcp   zen_gauss
</span></span><span class=line><span class=cl>acb01851c20a        ansilh/demo-webapp   <span class=s2>&#34;/demo-webapp&#34;</span>      <span class=m>2</span> minutes ago       Exited <span class=o>(</span>2<span class=o>)</span> <span class=m>2</span> minutes ago                          condescending_antonelli</span></span></code></pre></div><ul><li>List resource usage (Press Ctrl+c to exit)</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ docker stats zen_gauss</span></span></code></pre></div><ul><li>Stop Container</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ docker stop zen_gauss</span></span></code></pre></div><ul><li>List images</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ docker images
</span></span><span class=line><span class=cl>REPOSITORY           TAG                 IMAGE ID            CREATED             SIZE
</span></span><span class=line><span class=cl>ansilh/demo-webapp   latest              b7c5e17ae85e        <span class=m>8</span> minutes ago       4.81MB</span></span></code></pre></div><ul><li>Remove containers</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ docker rm zen_gauss</span></span></code></pre></div><ul><li>Delete images</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ docker rmi ansilh/demo-webapp</span></span></code></pre></div><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=install-kubeadm>Install kubeadm</h1><div class="box notices cstyle note"><div class=box-label><i class="fa-fw fas fa-exclamation-circle"></i> Note</div><div class=box-content><p>Verify the MAC address and product_uuid are unique for every node
(<code>ip link</code> or <code>ifconfig -a</code> and <code>sudo cat /sys/class/dmi/id/product_uuid</code>)</p></div></div><ul><li>Download pre-requisites</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ sudo apt-get update <span class=o>&amp;&amp;</span> sudo apt-get install -y apt-transport-https curl</span></span></code></pre></div><ul><li>Add gpg key for apt</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg <span class=p>|</span>sudo apt-key add -</span></span></code></pre></div><ul><li>Add apt repository</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ cat <span class=s>&lt;&lt;EOF |sudo tee -a /etc/apt/sources.list.d/kubernetes.list
</span></span></span><span class=line><span class=cl><span class=s>deb https://apt.kubernetes.io/ kubernetes-xenial main
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></div><ul><li>Install kubelet , kubeadm and kubectl</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ sudo apt-get update
</span></span><span class=line><span class=cl>$ sudo apt-get install -y kubelet kubeadm kubectl
</span></span><span class=line><span class=cl>$ sudo apt-mark hold kubelet kubeadm kubectl</span></span></code></pre></div><p>Repeat the same steps on worker node</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=deploy-master-node>Deploy master Node</h1><ul><li>Initialize kubeadm with pod IP range</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ sudo kubeadm init --apiserver-advertise-address<span class=o>=</span>192.168.56.201 --pod-network-cidr<span class=o>=</span>10.10.0.0/16  --service-cidr<span class=o>=</span>192.168.10.0/24</span></span></code></pre></div><ul><li>Configure <code>kubectl</code></li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ mkdir -p <span class=nv>$HOME</span>/.kube
</span></span><span class=line><span class=cl>$ sudo cp -i /etc/kubernetes/admin.conf <span class=nv>$HOME</span>/.kube/config
</span></span><span class=line><span class=cl>$ sudo chown <span class=k>$(</span>id -u<span class=k>)</span>:<span class=k>$(</span>id -g<span class=k>)</span> <span class=nv>$HOME</span>/.kube/config</span></span></code></pre></div><ul><li>Verify master node status</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ kubectl cluster-info</span></span></code></pre></div><ul><li>Output will be like below</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=go>Kubernetes master is running at https://192.168.56.201:6443
</span></span></span><span class=line><span class=cl><span class=go>KubeDNS is running at https://192.168.56.201:6443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy
</span></span></span><span class=line><span class=cl><span class=go></span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=go>To further debug and diagnose cluster problems, use &#39;kubectl cluster-info dump&#39;.
</span></span></span></code></pre></div><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Info</div><div class=box-content><p>Move to next session to deploy network plugin.</p></div></div><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=deploy-network-plugin---calico>Deploy Network Plugin - Calico</h1><ul><li>Apply RBAC rules (More about RBAC will discuss later)</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ kubectl apply -f https://docs.projectcalico.org/v3.3/getting-started/kubernetes/installation/hosted/rbac-kdd.yaml</span></span></code></pre></div><ul><li>Download Calico deployment YAML</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ wget https://docs.projectcalico.org/v3.3/getting-started/kubernetes/installation/hosted/kubernetes-datastore/calico-networking/1.7/calico.yaml</span></span></code></pre></div><ul><li>Edit <code>CALICO_IPV4POOL_CIDR</code> value to <code>10.10.0.0/16</code></li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>CALICO_IPV4POOL_CIDR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;10.10.0.0/16&#34;</span></span></span></code></pre></div><ul><li>Add <code>name: IP_AUTODETECTION_METHOD</code> & <code>value: "can-reach=192.168.56.1"</code> (This IP should be the host only network ip on your laptop)</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nn>...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>quay.io/calico/node:v3.3.2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>IP_AUTODETECTION_METHOD</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;can-reach=192.168.56.1&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>...</span></span></span></code></pre></div><ul><li>Apply Deployment</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ kubectl apply -f calico.yaml</span></span></code></pre></div><ul><li>Make sure the <code>READY</code> status should show same value on left and right side of <code>/</code> and <code>Pod</code> <code>STATUS</code> should be <code>Running</code></li></ul><div class="wrap-code highlight"><pre tabindex=0><code class=language-shel data-lang=shel>$ kubectl get pods -n kube-system |nl</code></pre></div><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=m>1</span><span class=w>  </span><span class=l>NAME                                    READY   STATUS    RESTARTS   AGE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=m>2</span><span class=w>  </span><span class=l>calico-node-2pwv9                       2/2     Running   0          20m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=m>3</span><span class=w>  </span><span class=l>coredns-86c58d9df4-d9q2l                1/1     Running   0          21m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=m>4</span><span class=w>  </span><span class=l>coredns-86c58d9df4-rwv7r                1/1     Running   0          21m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=m>5</span><span class=w>  </span><span class=l>etcd-k8s-master-01                      1/1     Running   0          20m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=m>6</span><span class=w>  </span><span class=l>kube-apiserver-k8s-master-01            1/1     Running   0          20m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=m>7</span><span class=w>  </span><span class=l>kube-controller-manager-k8s-master-01   1/1     Running   0          20m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=m>8</span><span class=w>  </span><span class=l>kube-proxy-m6m9n                        1/1     Running   0          21m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=m>9</span><span class=w>  </span><span class=l>kube-scheduler-k8s-master-01            1/1     Running   0          20m</span></span></span></code></pre></div><div class="box notices cstyle tip"><div class=box-label><i class="fa-fw fas fa-lightbulb"></i> Tip</div><div class=box-content><p>Contact the Trainer if the output is not the expected one after few minutes (~3-4mins).</p></div></div><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=add-worker-node-to-cluster>Add worker node to cluster</h1><ul><li>Get discovery secret from Master node.</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ <span class=nb>echo</span> sha256:<span class=k>$(</span>openssl x509 -in /etc/kubernetes/pki/ca.crt -noout -pubkey <span class=p>|</span> openssl rsa -pubin -outform DER 2&gt;/dev/null <span class=p>|</span> sha256sum <span class=p>|</span> cut -d<span class=s1>&#39; &#39;</span> -f1<span class=k>)</span></span></span></code></pre></div><ul><li>Get node join token from Master node.</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ kubeadm token list <span class=p>|</span>grep bootstra <span class=p>|</span>awk <span class=s1>&#39;{print $1}&#39;</span></span></span></code></pre></div><ul><li>Execute kubeadm command to add the Worker to cluster</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ sudo kubeadm join 192.168.56.201:6443 --token &lt;token&gt; --discovery-token-ca-cert-hash &lt;discovery hash&gt;</span></span></code></pre></div><ul><li>Verify system Pod status</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ kubectl get pods -n kube-system <span class=p>|</span>nl</span></span></code></pre></div><ul><li>Output</li></ul><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w> </span><span class=m>1</span><span class=w>  </span><span class=l>NAME                                    READY   STATUS    RESTARTS   AGE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=m>2</span><span class=w>  </span><span class=l>calico-node-2pwv9                       2/2     Running   0          20m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=m>3</span><span class=w>  </span><span class=l>calico-node-hwnfh                       2/2     Running   0          19m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=m>4</span><span class=w>  </span><span class=l>coredns-86c58d9df4-d9q2l                1/1     Running   0          21m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=m>5</span><span class=w>  </span><span class=l>coredns-86c58d9df4-rwv7r                1/1     Running   0          21m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=m>6</span><span class=w>  </span><span class=l>etcd-k8s-master-01                      1/1     Running   0          20m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=m>7</span><span class=w>  </span><span class=l>kube-apiserver-k8s-master-01            1/1     Running   0          20m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=m>8</span><span class=w>  </span><span class=l>kube-controller-manager-k8s-master-01   1/1     Running   0          20m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=m>9</span><span class=w>  </span><span class=l>kube-proxy-m6m9n                        1/1     Running   0          21m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=m>10</span><span class=w>  </span><span class=l>kube-proxy-shwgp                        1/1     Running   0          19m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=m>11</span><span class=w>  </span><span class=l>kube-scheduler-k8s-master-01            1/1     Running   0          20m</span></span></span></code></pre></div><footer class=footline></footer></article></section></div></main></div><script src=../js/clipboard.min.js?1704652408 defer></script><script src=../js/perfect-scrollbar.min.js?1704652408 defer></script><script src=../js/theme.js?1704652408 defer></script></body></html>