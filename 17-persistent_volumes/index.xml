<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Persistent Volumes on Hugo Relearn Theme</title><link>https://kubernetes.ansilh.com/17-persistent_volumes/index.html</link><description>Recent content in Persistent Volumes on Hugo Relearn Theme</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Sat, 29 Dec 2018 17:15:52 +0000</lastBuildDate><atom:link href="https://kubernetes.ansilh.com/17-persistent_volumes/index.xml" rel="self" type="application/rss+xml"/><item><title>Introduction</title><link>https://kubernetes.ansilh.com/17-persistent_volumes/01-intro/index.html</link><pubDate>Sat, 29 Dec 2018 17:15:52 +0000</pubDate><guid>https://kubernetes.ansilh.com/17-persistent_volumes/01-intro/index.html</guid><description>Persistent Volumes and Related components The PersistentVolume subsystem provides an API for users and administrators that abstracts details of how storage is provided from how it is consumed.
To do this we introduce two new API resources: PersistentVolume and PersistentVolumeClaim
A PersistentVolume (PV) is a piece of storage in the cluster that has been provisioned by an administrator. It is a resource in the cluster just like a node is a cluster resource.</description></item><item><title>iSCSI Volume Provisioner</title><link>https://kubernetes.ansilh.com/17-persistent_volumes/02-iscsi-provisioner/index.html</link><pubDate>Sat, 29 Dec 2018 17:15:52 +0000</pubDate><guid>https://kubernetes.ansilh.com/17-persistent_volumes/02-iscsi-provisioner/index.html</guid><description>Dynamic Volume Provisioner with targetd Setup targetd iscsi server on CentOS 7 Create a VM with two disks (50GB each)
Install CentOS 7 with minimal ISO with default option. Select only first disk for installation
Disable SELinux
# grep disabled /etc/sysconfig/selinux Output
SELINUX=disabled Disable firewall systemctl disable firewalld systemctl stop firewalld If yo are not rebooting the OS now , then make sure to disable SELinux using setenforce setenforce 0 Install taregtd yum install targetd Create a volume group for targetd vgcreate vg-targetd /dev/sdb Enable targetd RPC access.</description></item><item><title>NFS Volume Provisioner</title><link>https://kubernetes.ansilh.com/17-persistent_volumes/03-nfs-client/index.html</link><pubDate>Sat, 29 Dec 2018 17:15:52 +0000</pubDate><guid>https://kubernetes.ansilh.com/17-persistent_volumes/03-nfs-client/index.html</guid><description>Setup an NFS server In this setup we are assuming that the firewall and SELinux were disabled.
Install NFS client tools $ sudo yum install nfs-utils Create a share directory $ sudo mkdir /share Edit exports file and add entry to share the directory $ sudo vi /etc/exports/share *(rw,sync,no_root_squash,no_all_squash) Restart NFS server $ sudo systemctl restart nfs-serverDeploy NFS volume provisioner Create a deployment file using below spec and make sure to modify &amp;lt;NFS_SERVER_IP&amp;gt; apiVersion: v1 kind: ServiceAccount metadata: name: nfs-client-provisioner --- kind: Deployment apiVersion: extensions/v1beta1 metadata: name: nfs-client-provisioner spec: replicas: 1 strategy: type: Recreate template: metadata: labels: app: nfs-client-provisioner spec: serviceAccountName: nfs-client-provisioner containers: - name: nfs-client-provisioner image: quay.</description></item></channel></rss>